#define SYSTEM_DIR "C:\\Windows\\system32\\"

// our implementations
#pragma comment(linker, "/export:inet_ntop=_inet_ntop@16")
#pragma comment(linker, "/export:inet_pton=_inet_pton@12")

// forwards to the real dll
#pragma comment(linker, "/export:FreeAddrInfoW="SYSTEM_DIR"ws2_32.FreeAddrInfoW,@27")
#pragma comment(linker, "/export:GetAddrInfoW="SYSTEM_DIR"ws2_32.GetAddrInfoW,@24")
#pragma comment(linker, "/export:GetNameInfoW="SYSTEM_DIR"ws2_32.GetNameInfoW,@25")
#pragma comment(linker, "/export:WEP="SYSTEM_DIR"ws2_32.WEP,@500")
#pragma comment(linker, "/export:WPUCompleteOverlappedRequest="SYSTEM_DIR"ws2_32.WPUCompleteOverlappedRequest,@28")
#pragma comment(linker, "/export:WSAAccept="SYSTEM_DIR"ws2_32.WSAAccept,@29")
#pragma comment(linker, "/export:WSAAddressToStringA="SYSTEM_DIR"ws2_32.WSAAddressToStringA,@30")
#pragma comment(linker, "/export:WSAAddressToStringW="SYSTEM_DIR"ws2_32.WSAAddressToStringW,@31")
#pragma comment(linker, "/export:WSAAsyncGetHostByAddr="SYSTEM_DIR"ws2_32.WSAAsyncGetHostByAddr,@102")
#pragma comment(linker, "/export:WSAAsyncGetHostByName="SYSTEM_DIR"ws2_32.WSAAsyncGetHostByName,@103")
#pragma comment(linker, "/export:WSAAsyncGetProtoByName="SYSTEM_DIR"ws2_32.WSAAsyncGetProtoByName,@105")
#pragma comment(linker, "/export:WSAAsyncGetProtoByNumber="SYSTEM_DIR"ws2_32.WSAAsyncGetProtoByNumber,@104")
#pragma comment(linker, "/export:WSAAsyncGetServByName="SYSTEM_DIR"ws2_32.WSAAsyncGetServByName,@107")
#pragma comment(linker, "/export:WSAAsyncGetServByPort="SYSTEM_DIR"ws2_32.WSAAsyncGetServByPort,@106")
#pragma comment(linker, "/export:WSAAsyncSelect="SYSTEM_DIR"ws2_32.WSAAsyncSelect,@101")
#pragma comment(linker, "/export:WSACancelAsyncRequest="SYSTEM_DIR"ws2_32.WSACancelAsyncRequest,@108")
#pragma comment(linker, "/export:WSACancelBlockingCall="SYSTEM_DIR"ws2_32.WSACancelBlockingCall,@113")
#pragma comment(linker, "/export:WSACleanup="SYSTEM_DIR"ws2_32.WSACleanup,@116")
#pragma comment(linker, "/export:WSACloseEvent="SYSTEM_DIR"ws2_32.WSACloseEvent,@32")
#pragma comment(linker, "/export:WSAConnect="SYSTEM_DIR"ws2_32.WSAConnect,@33")
#pragma comment(linker, "/export:WSACreateEvent="SYSTEM_DIR"ws2_32.WSACreateEvent,@34")
#pragma comment(linker, "/export:WSADuplicateSocketA="SYSTEM_DIR"ws2_32.WSADuplicateSocketA,@35")
#pragma comment(linker, "/export:WSADuplicateSocketW="SYSTEM_DIR"ws2_32.WSADuplicateSocketW,@36")
#pragma comment(linker, "/export:WSAEnumNameSpaceProvidersA="SYSTEM_DIR"ws2_32.WSAEnumNameSpaceProvidersA,@37")
#pragma comment(linker, "/export:WSAEnumNameSpaceProvidersW="SYSTEM_DIR"ws2_32.WSAEnumNameSpaceProvidersW,@38")
#pragma comment(linker, "/export:WSAEnumNetworkEvents="SYSTEM_DIR"ws2_32.WSAEnumNetworkEvents,@39")
#pragma comment(linker, "/export:WSAEnumProtocolsA="SYSTEM_DIR"ws2_32.WSAEnumProtocolsA,@40")
#pragma comment(linker, "/export:WSAEnumProtocolsW="SYSTEM_DIR"ws2_32.WSAEnumProtocolsW,@41")
#pragma comment(linker, "/export:WSAEventSelect="SYSTEM_DIR"ws2_32.WSAEventSelect,@42")
#pragma comment(linker, "/export:WSAGetLastError="SYSTEM_DIR"ws2_32.WSAGetLastError,@111")
#pragma comment(linker, "/export:WSAGetOverlappedResult="SYSTEM_DIR"ws2_32.WSAGetOverlappedResult,@43")
#pragma comment(linker, "/export:WSAGetQOSByName="SYSTEM_DIR"ws2_32.WSAGetQOSByName,@44")
#pragma comment(linker, "/export:WSAGetServiceClassInfoA="SYSTEM_DIR"ws2_32.WSAGetServiceClassInfoA,@45")
#pragma comment(linker, "/export:WSAGetServiceClassInfoW="SYSTEM_DIR"ws2_32.WSAGetServiceClassInfoW,@46")
#pragma comment(linker, "/export:WSAGetServiceClassNameByClassIdA="SYSTEM_DIR"ws2_32.WSAGetServiceClassNameByClassIdA,@47")
#pragma comment(linker, "/export:WSAGetServiceClassNameByClassIdW="SYSTEM_DIR"ws2_32.WSAGetServiceClassNameByClassIdW,@48")
#pragma comment(linker, "/export:WSAHtonl="SYSTEM_DIR"ws2_32.WSAHtonl,@49")
#pragma comment(linker, "/export:WSAHtons="SYSTEM_DIR"ws2_32.WSAHtons,@50")
#pragma comment(linker, "/export:WSAInstallServiceClassA="SYSTEM_DIR"ws2_32.WSAInstallServiceClassA,@58")
#pragma comment(linker, "/export:WSAInstallServiceClassW="SYSTEM_DIR"ws2_32.WSAInstallServiceClassW,@59")
#pragma comment(linker, "/export:WSAIoctl="SYSTEM_DIR"ws2_32.WSAIoctl,@60")
#pragma comment(linker, "/export:WSAIsBlocking="SYSTEM_DIR"ws2_32.WSAIsBlocking,@114")
#pragma comment(linker, "/export:WSAJoinLeaf="SYSTEM_DIR"ws2_32.WSAJoinLeaf,@61")
#pragma comment(linker, "/export:WSALookupServiceBeginA="SYSTEM_DIR"ws2_32.WSALookupServiceBeginA,@62")
#pragma comment(linker, "/export:WSALookupServiceBeginW="SYSTEM_DIR"ws2_32.WSALookupServiceBeginW,@63")
#pragma comment(linker, "/export:WSALookupServiceEnd="SYSTEM_DIR"ws2_32.WSALookupServiceEnd,@64")
#pragma comment(linker, "/export:WSALookupServiceNextA="SYSTEM_DIR"ws2_32.WSALookupServiceNextA,@65")
#pragma comment(linker, "/export:WSALookupServiceNextW="SYSTEM_DIR"ws2_32.WSALookupServiceNextW,@66")
#pragma comment(linker, "/export:WSANSPIoctl="SYSTEM_DIR"ws2_32.WSANSPIoctl,@67")
#pragma comment(linker, "/export:WSANtohl="SYSTEM_DIR"ws2_32.WSANtohl,@68")
#pragma comment(linker, "/export:WSANtohs="SYSTEM_DIR"ws2_32.WSANtohs,@69")
#pragma comment(linker, "/export:WSAProviderConfigChange="SYSTEM_DIR"ws2_32.WSAProviderConfigChange,@70")
#pragma comment(linker, "/export:WSARecv="SYSTEM_DIR"ws2_32.WSARecv,@71")
#pragma comment(linker, "/export:WSARecvDisconnect="SYSTEM_DIR"ws2_32.WSARecvDisconnect,@72")
#pragma comment(linker, "/export:WSARecvFrom="SYSTEM_DIR"ws2_32.WSARecvFrom,@73")
#pragma comment(linker, "/export:WSARemoveServiceClass="SYSTEM_DIR"ws2_32.WSARemoveServiceClass,@74")
#pragma comment(linker, "/export:WSAResetEvent="SYSTEM_DIR"ws2_32.WSAResetEvent,@75")
#pragma comment(linker, "/export:WSASend="SYSTEM_DIR"ws2_32.WSASend,@76")
#pragma comment(linker, "/export:WSASendDisconnect="SYSTEM_DIR"ws2_32.WSASendDisconnect,@77")
#pragma comment(linker, "/export:WSASendTo="SYSTEM_DIR"ws2_32.WSASendTo,@78")
#pragma comment(linker, "/export:WSASetBlockingHook="SYSTEM_DIR"ws2_32.WSASetBlockingHook,@109")
#pragma comment(linker, "/export:WSASetEvent="SYSTEM_DIR"ws2_32.WSASetEvent,@79")
#pragma comment(linker, "/export:WSASetLastError="SYSTEM_DIR"ws2_32.WSASetLastError,@112")
#pragma comment(linker, "/export:WSASetServiceA="SYSTEM_DIR"ws2_32.WSASetServiceA,@80")
#pragma comment(linker, "/export:WSASetServiceW="SYSTEM_DIR"ws2_32.WSASetServiceW,@81")
#pragma comment(linker, "/export:WSASocketA="SYSTEM_DIR"ws2_32.WSASocketA,@82")
#pragma comment(linker, "/export:WSASocketW="SYSTEM_DIR"ws2_32.WSASocketW,@83")
#pragma comment(linker, "/export:WSAStartup="SYSTEM_DIR"ws2_32.WSAStartup,@115")
#pragma comment(linker, "/export:WSAStringToAddressA="SYSTEM_DIR"ws2_32.WSAStringToAddressA,@84")
#pragma comment(linker, "/export:WSAStringToAddressW="SYSTEM_DIR"ws2_32.WSAStringToAddressW,@85")
#pragma comment(linker, "/export:WSAUnhookBlockingHook="SYSTEM_DIR"ws2_32.WSAUnhookBlockingHook,@110")
#pragma comment(linker, "/export:WSAWaitForMultipleEvents="SYSTEM_DIR"ws2_32.WSAWaitForMultipleEvents,@86")
#pragma comment(linker, "/export:WSApSetPostRoutine="SYSTEM_DIR"ws2_32.WSApSetPostRoutine,@26")
#pragma comment(linker, "/export:WSCDeinstallProvider="SYSTEM_DIR"ws2_32.WSCDeinstallProvider,@87")
#pragma comment(linker, "/export:WSCEnableNSProvider="SYSTEM_DIR"ws2_32.WSCEnableNSProvider,@88")
#pragma comment(linker, "/export:WSCEnumProtocols="SYSTEM_DIR"ws2_32.WSCEnumProtocols,@89")
#pragma comment(linker, "/export:WSCGetProviderPath="SYSTEM_DIR"ws2_32.WSCGetProviderPath,@90")
#pragma comment(linker, "/export:WSCInstallNameSpace="SYSTEM_DIR"ws2_32.WSCInstallNameSpace,@91")
#pragma comment(linker, "/export:WSCInstallProvider="SYSTEM_DIR"ws2_32.WSCInstallProvider,@92")
#pragma comment(linker, "/export:WSCUnInstallNameSpace="SYSTEM_DIR"ws2_32.WSCUnInstallNameSpace,@93")
#pragma comment(linker, "/export:WSCUpdateProvider="SYSTEM_DIR"ws2_32.WSCUpdateProvider,@94")
#pragma comment(linker, "/export:WSCWriteNameSpaceOrder="SYSTEM_DIR"ws2_32.WSCWriteNameSpaceOrder,@95")
#pragma comment(linker, "/export:WSCWriteProviderOrder="SYSTEM_DIR"ws2_32.WSCWriteProviderOrder,@96")
#pragma comment(linker, "/export:__WSAFDIsSet="SYSTEM_DIR"ws2_32.__WSAFDIsSet,@151")
#pragma comment(linker, "/export:accept="SYSTEM_DIR"ws2_32.accept,@1")
#pragma comment(linker, "/export:bind="SYSTEM_DIR"ws2_32.bind,@2")
#pragma comment(linker, "/export:closesocket="SYSTEM_DIR"ws2_32.closesocket,@3")
#pragma comment(linker, "/export:connect="SYSTEM_DIR"ws2_32.connect,@4")
#pragma comment(linker, "/export:freeaddrinfo="SYSTEM_DIR"ws2_32.freeaddrinfo,@97")
#pragma comment(linker, "/export:getaddrinfo="SYSTEM_DIR"ws2_32.getaddrinfo,@98")
#pragma comment(linker, "/export:gethostbyaddr="SYSTEM_DIR"ws2_32.gethostbyaddr,@51")
#pragma comment(linker, "/export:gethostbyname="SYSTEM_DIR"ws2_32.gethostbyname,@52")
#pragma comment(linker, "/export:gethostname="SYSTEM_DIR"ws2_32.gethostname,@57")
#pragma comment(linker, "/export:getnameinfo="SYSTEM_DIR"ws2_32.getnameinfo,@99")
#pragma comment(linker, "/export:getpeername="SYSTEM_DIR"ws2_32.getpeername,@5")
#pragma comment(linker, "/export:getprotobyname="SYSTEM_DIR"ws2_32.getprotobyname,@53")
#pragma comment(linker, "/export:getprotobynumber="SYSTEM_DIR"ws2_32.getprotobynumber,@54")
#pragma comment(linker, "/export:getservbyname="SYSTEM_DIR"ws2_32.getservbyname,@55")
#pragma comment(linker, "/export:getservbyport="SYSTEM_DIR"ws2_32.getservbyport,@56")
#pragma comment(linker, "/export:getsockname="SYSTEM_DIR"ws2_32.getsockname,@6")
#pragma comment(linker, "/export:getsockopt="SYSTEM_DIR"ws2_32.getsockopt,@7")
#pragma comment(linker, "/export:htonl="SYSTEM_DIR"ws2_32.htonl,@8")
#pragma comment(linker, "/export:htons="SYSTEM_DIR"ws2_32.htons,@9")
#pragma comment(linker, "/export:inet_addr="SYSTEM_DIR"ws2_32.inet_addr,@11")
#pragma comment(linker, "/export:inet_ntoa="SYSTEM_DIR"ws2_32.inet_ntoa,@12")
#pragma comment(linker, "/export:ioctlsocket="SYSTEM_DIR"ws2_32.ioctlsocket,@10")
#pragma comment(linker, "/export:listen="SYSTEM_DIR"ws2_32.listen,@13")
#pragma comment(linker, "/export:ntohl="SYSTEM_DIR"ws2_32.ntohl,@14")
#pragma comment(linker, "/export:ntohs="SYSTEM_DIR"ws2_32.ntohs,@15")
#pragma comment(linker, "/export:recv="SYSTEM_DIR"ws2_32.recv,@16")
#pragma comment(linker, "/export:recvfrom="SYSTEM_DIR"ws2_32.recvfrom,@17")
#pragma comment(linker, "/export:select="SYSTEM_DIR"ws2_32.select,@18")
#pragma comment(linker, "/export:send="SYSTEM_DIR"ws2_32.send,@19")
#pragma comment(linker, "/export:sendto="SYSTEM_DIR"ws2_32.sendto,@20")
#pragma comment(linker, "/export:setsockopt="SYSTEM_DIR"ws2_32.setsockopt,@21")
#pragma comment(linker, "/export:shutdown="SYSTEM_DIR"ws2_32.shutdown,@22")
#pragma comment(linker, "/export:socket="SYSTEM_DIR"ws2_32.socket,@23")

